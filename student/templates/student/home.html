
{% extends "student/base.html" %}
{% block left-content %}
<style>
body {
    position: relative;
    min-height: 100vh;
    margin: 0;
    font-family: 'Poppins', sans-serif;
    overflow: hidden;
}

/* ðŸ‘‡ Create a translucent blurred layer behind everything */
body::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #c3cfe2, #f5f7fa);
    filter: blur(10px);
    z-index: -1;
}

</style>

<form action="" method="post" enctype="multipart/form-data">
{% csrf_token %}
{% if form.non_field_error %}
    {% for error in form.non_field_error %}
    <p class="alert alert_danger my-3">{{error}}</p>
    {% endfor %}
{% endif %}

<div class="mb-3">
    <label for="{{form.name.id_for_label}}" class="form-label">{{form.name.label}}</label>
    {{form.name}}
    {% comment %} checking errors {% endcomment %}
    {% if form.name.error %}
    <div class="text-danger">
        {% for error in form.name.error %}
        <p>{{error}}</p>
        {% endfor %}
    </div>
    {% endif %}
    </div>

{% comment %} date of birth {% endcomment %}
    <div class="mb-3">
    <label for="{{form.dob.id_for_label}}" class="form-label">{{form.dob.label}}</label>
    {{form.dob}}
    {% comment %} checking errors {% endcomment %}
    {% if form.dob.error %}
    <div class="text-danger">
        {% for error in form.dob.error %}
        <p>{{error}}</p>
        {% endfor %}
    </div>
    {% endif %}
    </div>
{% comment %} gender {% endcomment %}

  <div class="mb-3">
    <label for="{{form.gender.id_for_label}}" class="form-label">{{form.gender.label}}</label>
    {{form.gender}}
    {% comment %} checking errors {% endcomment %}
    {% if form.gender.error %}
    <div class="text-danger">
        {% for error in form.gender.error %}
        <p>{{error}}</p>
        {% endfor %}
    </div>
    {% endif %}
    </div>
{% comment %} locality {% endcomment %}
      <div class="mb-3">
    <label for="{{form.locality.id_for_label}}" class="form-label">{{form.locality.label}}</label>
    {{form.locality}}
    {% comment %} checking errors {% endcomment %}
    {% if form.locality.error %}
    <div class="text-danger">
        {% for error in form.locality.error %}
        <p>{{error}}</p>
        {% endfor %}
    </div>
    {% endif %}
    </div>

{% comment %} city {% endcomment %}

        <div class="mb-3">
    <label for="{{form.city.id_for_label}}" class="form-label">{{form.city.label}}</label>
    {{form.city}}
    {% comment %} checking errors {% endcomment %}
    {% if form.city.error %}
    <div class="text-danger">
        {% for error in form.city.error %}
        <p>{{error}}</p>
        {% endfor %}
    </div>
    {% endif %}
    </div>

    {% comment %} pincode {% endcomment %}

        <div class="mb-3">
    <label for="{{form.pin.id_for_label}}" class="form-label">{{form.pin.label}}</label>
    {{form.pin}}
    {% comment %} checking errors {% endcomment %}
    {% if form.pin.error %}
    <div class="text-danger">
        {% for error in form.pin.error %}
        <p>{{error}}</p>
        {% endfor %}
    </div>
    {% endif %}
    </div>
{% comment %} state {% endcomment %}
        <div class="mb-3">
    <label for="{{form.state.id_for_label}}" class="form-label">{{form.state.label}}</label>
    {{form.state}}
    {% comment %} checking errors {% endcomment %}
    {% if form.state.error %}
    <div class="text-danger">
        {% for error in form.state.error %}
        <p>{{error}}</p>
        {% endfor %}
    </div>
    {% endif %}
    </div>
{% comment %} mobile {% endcomment %}
        <div class="mb-3">
    <label for="{{form.mobile.id_for_label}}" class="form-label">{{form.mobile.label}}</label>
    {{form.mobile}}
    {% comment %} checking errors {% endcomment %}
    {% if form.mobile.error %}
    <div class="text-danger">
        {% for error in form.mobile.error %}
        <p>{{error}}</p>
        {% endfor %}
    </div>
    {% endif %}
    </div>
{% comment %} email {% endcomment %}
        <div class="mb-3">
    <label for="{{form.email.id_for_label}}" class="form-label">{{form.email.label}}</label>
    {{form.email}}
    {% comment %} checking errors {% endcomment %}
    {% if form.email.error %}
    <div class="text-danger">
        {% for error in form.email.error %}
        <p>{{error}}</p>
        {% endfor %}
    </div>
    {% endif %}
    </div>
{% comment %} job_city {% endcomment %}
        <div class="mb-3">
    <label for="{{form.job_city.id_for_label}}" class="form-label">{{form.job_city.label}}</label>
    {{form.job_city}}
    {% comment %} checking errors {% endcomment %}
    {% if form.job_city.error %}
    <div class="text-danger">
        {% for error in form.job_city.error %}
        <p>{{error}}</p>
        {% endfor %}
    </div>
    {% endif %}
    </div>

    {% comment %} profile image {% endcomment %}
       <div class="mb-3">
    <label for="{{form.profile_image.id_for_label}}" class="form-label">{{form.profile_image.label}}</label>
    {{form.profile_image}}
    {% comment %} checking errors {% endcomment %}
    {% if form.profile_image.help_text %}
    <div class="form-text">
        {{form.profile_image.help_text}}
    </div>
    {% endif %}
    <div class='mt-3'>
        <img id="imagepreview" src="" alt="Image Preview"
        style="display:none;max-width:50%;height:auto;">
    </div>
    </div>  
{% comment %} myfile {% endcomment %}
           <div class="mb-3">
    <label for="{{form.my_file.id_for_label}}" class="form-label">{{form.my_file.label}}</label>
    {{form.my_file}}
    {% comment %} checking errors {% endcomment %}
    {% if form.my_file.help_text %}
    <div class="form-text">
       {{form.my_file.help_text}}
    </div>
    {% endif %}

     {% if form.my_file.error %}
    <div class="text-danger">
        {% for error in form.my_file.error %}
        <p>{{error}}</p>
        {% endfor %}
    </div>
    {% endif %}
    </div>
{% comment %} submit button {% endcomment %}
<button type="submit" class="btn btn-primary">Submit</button>
 
</form>
<script>
    function previewimage(event){
        const imagepreview =document.getElementById('imagepreview');
        const file =event.target.files[0];

        if(file){
            const reader = new FileReader();
            reader.onload = function(e){
                imagepreview.src=e.target.result;
                imagepreview.style.display='block';
            };
            reader.readAsDataURL(file);
        }
        else{
            imagepreview.style.display='none';
        }
    }
    //attach the image preview to the profile image input
    document.querySelector("input[type='file']").addEventListener("change",previewimage);
</script>




{% endblock left-content %}


{% block right-content %}

<h4 class="text-center mb-3">
    <u>list of candidate</u>
</h4>
{% for candidate in candidates %}
<p>{{candidate.id}}: <a href="{% url 'candidates_details' candidate.id%}">{{candidate.name}}</a></p>
{% endfor %}
{% endblock right-content %}

